alias vending d0
alias icPlant d1

alias slot r9
alias hasDecay r8

define decayFood 1531087544
define stacker 1585641623
define DVR -1337091041
define FFR 163728359

main:
yield
# Check DecayFood Presence
move slot 1
loopSlot:
bge slot 101 endLoopSlot
add slot slot 1
ls r0 vending slot OccupantHash
seq hasDecay r0 decayFood
beqz hasDecay loopSlot
endLoopSlot:
# Handle Decay Food
bnezal hasDecay handleDecay
j main

handleDecay:
s icPlant Setting 0
yield
lbns r0 stacker HASH("StackerIn") 2 Occupied 0
brnez r0 -2
s vending RequestHash decayFood
yield
lbns r0 stacker HASH("StackerIn") 2 OccupantHash 0
brne r0 decayFood -2
sbn DVR HASH("DVin") Open 1
sbn FFR HASH("FFcom") Mode 1
sbn stacker HASH("StackerIn") Activate 1
sleep 2
s icPlant Setting 999
j ra